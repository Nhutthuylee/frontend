{"ast":null,"code":"import { authHeader } from '../helps/auth-header';\nimport axios from 'axios';\nexport const userService = {\n  login\n};\n\nfunction login(username, password) {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  };\n  return axios({\n    method: \"POST\",\n    url: 'http://localhost:8080/users/authenticate',\n    data: {\n      username: username,\n      password: password\n    }\n  }).then(handleResponse).then(user => {\n    localStorage.setItem('user', JSON.stringify(user));\n    return user.data;\n  });\n}\n\nfunction handleResponse(response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text);\n\n    if (!response.ok) {\n      if (response.status === 401) {\n        console.log(\"no ra 401 nhe\");\n      }\n\n      const error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}","map":{"version":3,"sources":["E:/internship_2020_java_team_demo-feature-final-demo-Thuy/src/services/user.services.js"],"names":["authHeader","axios","userService","login","username","password","requestOptions","method","headers","body","JSON","stringify","url","data","then","handleResponse","user","localStorage","setItem","response","text","parse","ok","status","console","log","error","message","statusText","Promise","reject"],"mappings":"AAAA,SAASA,UAAT,QAA2B,sBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,WAAW,GAAG;AACvBC,EAAAA;AADuB,CAApB;;AAIP,SAASA,KAAT,CAAeC,QAAf,EAAyBC,QAAzB,EAAmC;AAC/B,QAAMC,cAAc,GAAG;AACnBC,IAAAA,MAAM,EAAE,MADW;AAEnBC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFU;AAGnBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEP,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAAf;AAHa,GAAvB;AAKA,SAAOJ,KAAK,CAAC;AACLM,IAAAA,MAAM,EAAE,MADH;AAELK,IAAAA,GAAG,EAAE,0CAFA;AAGLC,IAAAA,IAAI,EAAE;AACFT,MAAAA,QAAQ,EAAEA,QADR;AAEFC,MAAAA,QAAQ,EAAEA;AAFR;AAHD,GAAD,CAAL,CAOAS,IAPA,CAOKC,cAPL,EAQFD,IARE,CAQGE,IAAI,IAAI;AACVC,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACC,SAAL,CAAeK,IAAf,CAA7B;AACA,WAAOA,IAAI,CAACH,IAAZ;AACH,GAXE,CAAP;AAYH;;AAED,SAASE,cAAT,CAAwBI,QAAxB,EAAkC;AAC9B,SAAOA,QAAQ,CAACC,IAAT,GAAgBN,IAAhB,CAAqBM,IAAI,IAAI;AAChC,UAAMP,IAAI,GAAGO,IAAI,IAAIV,IAAI,CAACW,KAAL,CAAWD,IAAX,CAArB;;AACA,QAAI,CAACD,QAAQ,CAACG,EAAd,EAAkB;AACd,UAAIH,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;AACzBC,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH;;AAED,YAAMC,KAAK,GAAIb,IAAI,IAAIA,IAAI,CAACc,OAAd,IAA0BR,QAAQ,CAACS,UAAjD;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH;;AACD,WAAOb,IAAP;AACH,GAXM,CAAP;AAYH","sourcesContent":["import { authHeader } from '../helps/auth-header';\r\nimport axios from 'axios';\r\nexport const userService = {\r\n    login\r\n}\r\n\r\nfunction login(username, password) {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username, password })\r\n    };\r\n    return axios({\r\n            method: \"POST\",\r\n            url: 'http://localhost:8080/users/authenticate',\r\n            data: {\r\n                username: username,\r\n                password: password\r\n            }\r\n        }).then(handleResponse)\r\n        .then(user => {\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            return user.data;\r\n        });\r\n}\r\n\r\nfunction handleResponse(response) {\r\n    return response.text().then(text => {\r\n        const data = text && JSON.parse(text);\r\n        if (!response.ok) {\r\n            if (response.status === 401) {\r\n                console.log(\"no ra 401 nhe\")\r\n            }\r\n\r\n            const error = (data && data.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n        return data;\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}